var game = {
    clickerButton: document.createElement ("button"),
    upgradeButton: document.createElement ("button"),
    coalMeter: document.createElement ("p"),
    gemMeter: document.createElement ("p"),

    coal: 0,
    gems: 0,

    clicksPerSecond: 0,
};

function addMineral () {
    if (Math.floor(Math.random () * 101) < 1) {
	game.gems++;
    } else {
	game.coal++;
    }
    // Also update the text labels.
    game.coalMeter.innerHTML = "Coal: " + game.coal;
    game.gemMeter.innerHTML = "Gems: " + game.gems;
}

function start () {
    // The actual clicker part.
    game.clickerButton.innerHTML = "Click!";
    game.clickerButton.onclick = addMineral;
    document.body.appendChild (game.clickerButton);

    // Displays.
    game.coalMeter.innerHTML = "Coal: " + game.coal;
    game.gemMeter.innerHTML = "Gems: " + game.gems;
    document.body.appendChild (game.coalMeter);
    document.body.appendChild (game.gemMeter);

    // Upgrades.
    game.upgradeButton.innerHTML = "Upgrade CPS";
    game.upgradeButton.onclick = function () { game.clicksPerSecond++; };
    document.body.appendChild (game.upgradeButton);

    // Fix the interval. Or leave it be. LOL
    setInterval (function () { for (i = 0; i < game.clicksPerSecond; ++i) { addMineral () } }, 1000);
}
